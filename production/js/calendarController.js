var __bind=function(a,b){return function(){return a.apply(b,arguments)}};define(["moment"],function(a){var b;return b=function(){function b(b){null==b&&(b=null),this.prevMonth=__bind(this.prevMonth,this),this.nextMonth=__bind(this.nextMonth,this),this.generateMonth=__bind(this.generateMonth,this),this.appendTo=__bind(this.appendTo,this),this.moment=null===b?a():a(b,"YYYY-MM-DD"),this.calendar=document.importNode(document.getElementById("calendar-template").content,!0),this.next=this.calendar.querySelector(".next-month"),this.prev=this.calendar.querySelector(".prev-month"),this.next.addEventListener("click",this.nextMonth),this.prev.addEventListener("click",this.prevMonth),this.generateMonth()}return b.prototype.appendTo=function(a){return this.calendar=a.appendChild(this.calendar)},b.prototype.generateMonth=function(){var b,c,d,e,f,g;for(console.dir(this.calendar),console.log(this.calendar,this.calendar.querySelector(".month")),this.calendar.querySelector(".month").innerHTML=this.moment.format("MMMM YYYY"),c=document.createElement("DIV"),c.className="days",d=this.moment.daysInMonth(),e=g=1;d>=1?d>=g:g>=d;e=d>=1?++g:--g)f=a(this.moment.format("YYYY")+"-"+this.moment.format("MM")+"-"+e,"YYYY-MM-D"),b=document.createElement("DIV"),b.className="day",b.setAttribute("data-date",f.format("YYYY-MM-DD")),f.isSame(this.moment,"day")&&b.classList.add("today"),b.appendChild(document.createTextNode(e)),c.appendChild(b);return this.calendar.querySelector("header").parentNode.appendChild(c)},b.prototype.nextMonth=function(){return this.moment.add("months",1),this.generateMonth()},b.prototype.prevMonth=function(){return this.moment.subtract("months",1),this.generateMonth()},b}()});