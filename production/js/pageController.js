var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define(["MutationObserver-polyfil"],function(){var a;return a=function(){function a(){this.keyDown=__bind(this.keyDown,this),this.getFromText=__bind(this.getFromText,this),this.keyUp=__bind(this.keyUp,this),this.ifDash=__bind(this.ifDash,this),this.setPage=__bind(this.setPage,this),this.savePageValue=__bind(this.savePageValue,this),this.registerCallback=__bind(this.registerCallback,this),this.getPagesTotal=__bind(this.getPagesTotal,this),this.getLastPage=__bind(this.getLastPage,this),this.getPages=__bind(this.getPages,this),this.showPages=__bind(this.showPages,this),this.addPage=__bind(this.addPage,this),this.pseudoLabel=__bind(this.pseudoLabel,this),this.enter=13,this.esc=27,this.dash=189,this.ctrl=17,this.cmd=91,this.shift=16,this.alt=18,this.space=32,this.chars=[this.dash,this.space],this.r=82,this.numbers=[48,49,50,51,52,53,54,55,56,57],this.controls=[8,9,45,46,39,37,this.esc,this.ctrl,this.alt,this.shift,this.enter,this.cmd],this.f_dash="‒",this.en_dash="–",this.em_dash="—",this.h_bar="―",this.s_dash="⁓",this.hyphen="‐",this.mhyphen="-",this.dashes=[this.f_dash,this.en_dash,this.em_dash,this.h_bar,this.s_dash,this.hyphen,this.mhyphen],this.nbsp=" ",this.mnbsp="&nbsp;",this.space=" ",this.tspace=" ",this.hspace=" ",this.controlsPressed=[],this.paginator=document.querySelector(".paginator"),this.paginatorCurrent=this.paginator.querySelector(".current"),this.paginator.addEventListener("click",this.pseudoLabel),this.paginatorCurrent.addEventListener("keydown",this.keyDown),this.paginatorCurrent.addEventListener("keyup",this.keyUp),this.paginatorCurrent.addEventListener("focus",this.savePageValue),this.paginatorCurrent.addEventListener("blur",this.setPage),this.paginatorTotal=parseInt(this.paginator.querySelector(".total").innerHTML,10)}return a.prototype.pseudoLabel=function(){return this.paginatorCurrent.focus()},a.prototype.addPage=function(){var a;return a=this.getFromText(this.paginatorCurrent.innerHTML),this.paginatorCurrent.innerHTML="number"==typeof a?a+this.hspace+this.en_dash+this.hspace+(a+1):a[0]+this.hspace+this.en_dash+this.hspace+(a[1]+1),this.setPage()},a.prototype.showPages=function(a,b){return a=parseInt(a,10),b=parseInt(b,10),isNaN(a)&&isNaN(b)?(this.paginatorCurrent.innerHTML=a+this.hspace+this.en_dash+this.hspace+b,this.setPage()):void 0},a.prototype.getPages=function(){return this.getFromText(this.paginatorCurrent.innerHTML)},a.prototype.getLastPage=function(){var a;return a=this.getFromText(this.paginatorCurrent.innerHTML),"number"!=typeof a&&(a=a[1]),a},a.prototype.getPagesTotal=function(){return this.paginatorTotal},a.prototype.registerCallback=function(a){return this.callbackFunction=a},a.prototype.savePageValue=function(){return this.paginatorCurrent.setAttribute("data-pages",this.paginatorCurrent.innerHTML)},a.prototype.setPage=function(){var a;return a=this.getFromText(this.paginatorCurrent.innerHTML),this.paginatorCurrent.innerHTML="number"==typeof a?a:a[0]+this.hspace+this.en_dash+this.hspace+a[1],"function"==typeof this.callbackFunction?this.callbackFunction.call(this):void 0},a.prototype.ifDash=function(){var a,b,c,d;for(d=this.dashes,b=0,c=d.length;c>b;b++)if(a=d[b],this.paginatorCurrent.innerHTML.indexOf(a)>-1)return!0;return!1},a.prototype.keyUp=function(a){var b;return b=this.controlsPressed.indexOf(a.which),b>-1?this.controlsPressed.splice(b,1):void 0},a.prototype.getFromText=function(a){var b,c,d,e;return e="["+this.mnbsp+this.nbsp+this.space+this.tspace+this.hspace+"s]",d=new RegExp(e,"ig"),a=a.replace(d,""),c="["+this.mhyphen+this.f_dash+this.en_dash+this.em_dash+this.h_bar+this.s_dash+this.hyphen+"]",b=new RegExp(c,"ig"),a=a.replace(b,this.en_dash),a=a.replace("/[^d\\"+this.en_dash+"]/ig",""),a=a.split(this.en_dash),a.length>1?(a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10),(isNaN(a[0])||a[0]<1)&&(a[0]=1),(isNaN(a[1])||a[1]>this.paginatorTotal)&&(a[1]=this.paginatorTotal),a[0]>a[1]&&(a[1]+=a[0],a[0]=a[1]-a[0],a[1]=a[1]-a[0],a[0]<1&&(a[0]=1),a[1]>this.paginatorTotal&&(a[1]=this.paginatorTotal)),a[0]===a[1]?a[0]:a):(a=parseInt(a[0],10),(isNaN(a)||1>a||a>this.paginatorTotal)&&(a=1),a)},a.prototype.keyDown=function(a){var b,c,d,e,f,g,h,i,j,k;switch(console.log(a.which),g=a.which,__indexOf.call(this.controls,g)<0&&(h=a.which,__indexOf.call(this.numbers,h)<0)&&(i=a.which,__indexOf.call(this.chars,i)<0)&&a.which!==this.r&&a.preventDefault(),j=a.which,__indexOf.call(this.controls,j)>=0&&this.controlsPressed.indexOf(a.which)<0&&this.controlsPressed.push(a.which),a.which){case this.r:d=this.controlsPressed.indexOf(this.cmd)>-1,e=this.controlsPressed.indexOf(this.ctrl)>-1,d||e||a.preventDefault();break;case this.dash:this.ifDash()&&a.preventDefault(),this.controlsPressed.length>0&&(c=this.controlsPressed.indexOf(this.alt)>-1,f=this.controlsPressed.indexOf(this.shift)>-1,f&&!c&&a.preventDefault());break;case this.enter:a.preventDefault(),this.setPage(),this.paginatorCurrent.blur(),b=this.controlsPressed.indexOf(a.which),b>-1&&this.controlsPressed.splice(b,1);break;case this.esc:a.preventDefault(),this.paginatorCurrent.innerHTML=this.paginatorCurrent.getAttribute("data-pages"),this.paginatorCurrent.blur()}return(this.paginatorCurrent.innerHTML.length>8||this.controlsPressed.length>0)&&(k=a.which,__indexOf.call(this.numbers,k)>=0)?a.preventDefault():void 0},a}()});